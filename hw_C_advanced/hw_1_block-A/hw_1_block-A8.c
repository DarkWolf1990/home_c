/*
 * Весы
В стартер боксе Geek Brains есть электронные чашечные весы (вместимость каждой чашки 1 тонна) и гири массами 1г, 3г, 9г, 27г, и т.д. по одной штуке каждой массы. Менеджер из рекламного отдела взял такие весы и не знает, можно ли взвесить что-нибудь тяжелое и если можно, сколько гирь придется положить на весы (на любую чашку). Надо помочь ему. Формат входных данных: единственное натуральное число – масса взвешиваемого товара в граммах (не больше 1000000000). Формат выходных данных: единственное целое число – общее количество гирь или число –1 если данный товар взвесить невозможно.

Примеры
Входные данные
 8

 Результат работы
 2
 * */

#include <stdio.h>

int main(void) {
    int n;
    scanf("%d", &n);

    // Проверяем основные ограничения
    if (n <= 0 || n > 1000000000) {
        printf("-1");
        return 0;
    }

    // Определяем максимальную допустимую гирю
    const int MAX_WEIGHT = 1000000;
    int max_power = 0;
    long long current = 1;

    while (current <= MAX_WEIGHT) {
        max_power++;
        current *= 3;
    }
    max_power--; // Возвращаемся к последней допустимой степени

    // Максимальный вес, который можно взвесить
    long long max_possible = (current - 1) / 2; // current = 3^(max_power+1)

    if (n > max_possible) {
        printf("-1");
        return 0;
    }

    // Считаем количество гирь
    int count = 0;
    int temp = n;

    while (temp > 0) {
        int remainder = temp % 3;

        if (remainder == 2) {
            temp++;
            count++;
        } else if (remainder == 1) {
            count++;
        }

        temp /= 3;
    }

    printf("%d", count);
    return 0;
}
